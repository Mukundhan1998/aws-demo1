version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: latest
  build:
    commands:
      - echo "Building the application..."
      - mkdir -p artifacts  # Avoids errors if already exists
      - ls -la  # Debug: Check files before copying
      - cp -r $(ls -A | grep -v '^artifacts$') artifacts/  # Avoid copying artifacts itself
  post_build:
    commands:
      - echo "Build completed successfully"

artifacts:
  files:
    - artifacts/**  # Ensure artifacts are uploaded
